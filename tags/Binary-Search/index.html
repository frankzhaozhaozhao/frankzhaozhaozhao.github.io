<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Tag: Binary Search - Frankkkkk Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Frankkkkk LeetCode"><meta name="msapplication-TileImage" content="/img/favicon-new.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Frankkkkk LeetCode"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Frankkkkk Blog"><meta property="og:url" content="https://frankkkkk.com/"><meta property="og:site_name" content="Frankkkkk Blog"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://frankkkkk.com/img/og_image.png"><meta property="article:author" content="Frankkkkk"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://frankkkkk.com"},"headline":"Frankkkkk Blog","image":["https://frankkkkk.com/img/og_image.png"],"author":{"@type":"Person","name":"Frankkkkk"},"description":""}</script><link rel="icon" href="/img/favicon-new.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/dracula.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-EQ4XGZTBSS" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-EQ4XGZTBSS');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo-new.png" alt="Frankkkkk Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">Binary Search</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-01-31T23:14:58.000Z" title="2021-1-31 15:14:58">2021-01-31</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-01-31T23:28:50.737Z" title="2021-1-31 15:28:50">2021-01-31</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span><span class="level-item">2 minutes read (About 369 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/31/1744-Can-You-Eat-Your-Favorite-Candy-on-Your-Favorite-Day/">1744. Can You Eat Your Favorite Candy on Your Favorite Day?</a></h1><div class="content"><h3 id="📦-Refresh-Your-Memory"><a href="#📦-Refresh-Your-Memory" class="headerlink" title="📦 Refresh Your Memory"></a>📦 Refresh Your Memory</h3><p>Given a candy array and queries[i] = [favoriteTypei, favoriteDayi, dailyCapi]. Return true if you can eat favoriteType at favoriteDay without exceeding dailyCap.</p>
<h3 id="📚-Key-Notes"><a href="#📚-Key-Notes" class="headerlink" title="📚 Key Notes"></a>📚 Key Notes</h3><ul>
<li>The min speed is <strong>1</strong>, the max speed is <strong>dailyCap</strong>.</li>
<li>We don’t need to care about exactly how to eat, but just check if our favorite type is within that <strong>min-max range</strong>.</li>
<li>How to quickly check that?<ul>
<li><strong>O(NlogN) Solution</strong>:<ul>
<li>Prefix Sum</li>
<li>TreeMap or Binary Search, we could find a lower type and a upper type.</li>
<li>Then we just need to make sure our type is within this type range.</li>
</ul>
</li>
<li><strong>O(N) Solution</strong>:<ul>
<li>Based on the min speed and max speed, we have total candies range</li>
<li>We just need to check if this candies range covers our favourite type range.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/images/1744.png" alt="image"></p>
<h3 id="💻-Code"><a href="#💻-Code" class="headerlink" title="💻 Code"></a>💻 Code</h3><h4 id="O-NlogN-Solution"><a href="#O-NlogN-Solution" class="headerlink" title="O(NlogN) Solution"></a>O(NlogN) Solution</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span>[] canEat(<span class="keyword">int</span>[] candiesCount, <span class="keyword">int</span>[][] queries) &#123;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">int</span> N = queries.length;</span><br><span class="line">    <span class="keyword">boolean</span>[] res = <span class="keyword">new</span> <span class="keyword">boolean</span>[N];</span><br><span class="line">    </span><br><span class="line">    TreeMap&lt;Long, Integer&gt; map = <span class="keyword">new</span> TreeMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; candiesCount.length; ++i) &#123;</span><br><span class="line">        sum += candiesCount[i];</span><br><span class="line">        map.put(sum, i);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> day = queries[i][<span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// find lower bound type</span></span><br><span class="line">        <span class="keyword">int</span> lowerType = helper(map, <span class="number">1</span> * ((<span class="keyword">long</span>) day));</span><br><span class="line">        <span class="keyword">if</span> (lowerType == -<span class="number">1</span>) &#123;</span><br><span class="line">            res[i] = <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// find upper bound type</span></span><br><span class="line">        <span class="keyword">int</span> upperType = helper(map, queries[i][<span class="number">2</span>] * ((<span class="keyword">long</span>) day));</span><br><span class="line">        <span class="keyword">if</span> (upperType == -<span class="number">1</span>) upperType = candiesCount.length - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> favoriteType = queries[i][<span class="number">0</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// System.out.println(&quot;query: &quot; + i + &quot;, lower: &quot; + lowerType + &quot;, upper: &quot; + upperType + &quot;, ft: &quot; + queries[i][0] + &quot;, fd: &quot; + queries[i][1] + &quot;, dc: &quot; + queries[i][2]);</span></span><br><span class="line">        </span><br><span class="line">        res[i] = (favoriteType &gt;= lowerType &amp;&amp; favoriteType &lt;= upperType);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">helper</span><span class="params">(TreeMap&lt;Long, Integer&gt; map, <span class="keyword">long</span> sum)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    Long key = map.ceilingKey(sum);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (key == <span class="keyword">null</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> map.get(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="O-N-Solution"><a href="#O-N-Solution" class="headerlink" title="O(N) Solution"></a>O(N) Solution</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> N = queries.length;</span><br><span class="line"><span class="keyword">boolean</span>[] res = <span class="keyword">new</span> <span class="keyword">boolean</span>[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span>[] A = <span class="keyword">new</span> <span class="keyword">long</span>[candiesCount.length];</span><br><span class="line">A[<span class="number">0</span>] = candiesCount[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; candiesCount.length; ++i) &#123;</span><br><span class="line">    A[i] = A[i - <span class="number">1</span>] + candiesCount[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> numberOfDays = queries[i][<span class="number">1</span>] + <span class="number">1</span>;  <span class="comment">// day is 0 index</span></span><br><span class="line">    <span class="keyword">int</span> fType = queries[i][<span class="number">0</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">long</span> lower = (fType - <span class="number">1</span> &lt; <span class="number">0</span> ? <span class="number">0</span> : A[fType - <span class="number">1</span>]) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">long</span> upper = A[fType];</span><br><span class="line">    </span><br><span class="line">    res[i] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span> ((<span class="number">1</span> * ((<span class="keyword">long</span>) numberOfDays)) &gt; upper) res[i] = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span> ((queries[i][<span class="number">2</span>] * ((<span class="keyword">long</span>) numberOfDays)) &lt; lower) res[i] = <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> res;</span><br></pre></td></tr></table></figure>
<h3 id="🎉-Thoughts"><a href="#🎉-Thoughts" class="headerlink" title="🎉 Thoughts"></a>🎉 Thoughts</h3><p>Typical prefix sum question. Still, do not need to care about process but result.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-01-24T19:39:09.000Z" title="2021-1-24 11:39:09">2021-01-24</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-01-24T19:50:37.344Z" title="2021-1-24 11:50:37">2021-01-24</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span><span class="level-item">2 minutes read (About 225 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/24/1739-Building-Boxes/">1739. Building Boxes</a></h1><div class="content"><h3 id="📦-Refresh-Your-Memory"><a href="#📦-Refresh-Your-Memory" class="headerlink" title="📦 Refresh Your Memory"></a>📦 Refresh Your Memory</h3><p>Given n boxes, and You can place the boxes anywhere on the floor. If box x is placed on top of the box y, then each side of the four vertical sides of the box y must either be adjacent to another box or to a wall. return the minimum possible number of boxes touching the floor.</p>
<h3 id="📚-Key-Notes"><a href="#📚-Key-Notes" class="headerlink" title="📚 Key Notes"></a>📚 Key Notes</h3><ul>
<li>It is a <strong>triangle number</strong> problem.</li>
<li>Before that, you need to know some equaltions: <ul>
<li>The n-th triangle number is: <strong>(n) * (n + 1) / 2</strong></li>
<li>The sum of first n triangle numbers is: <strong>(n) * (n + 1) * (n + 2) / 6</strong></li>
</ul>
</li>
<li>First: find a complete triangle cone (complete means 1 3 6 10…)<ul>
<li>You can solve this cubic function by some math, but I am using <strong>binary search</strong> for simplicity.</li>
</ul>
</li>
<li>Remain boxes (R) need to be place as R + (R - 1) + (R - 2) + … just find this number R</li>
</ul>
<h3 id="💻-Code"><a href="#💻-Code" class="headerlink" title="💻 Code"></a>💻 Code</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumBoxes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = <span class="number">2000</span>;  <span class="comment">// magic number since n is &lt;= 10^9</span></span><br><span class="line">    <span class="keyword">int</span> order = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// find a complete triangle cone (1 3 6 10 ...)</span></span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">        <span class="keyword">int</span> m = (r - l) / <span class="number">2</span> + l;</span><br><span class="line">        <span class="keyword">int</span> value = getTriangleTotal(m);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (value &gt; n) r = m - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            order = m;</span><br><span class="line">            l = m + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// order is the complete triangle-th</span></span><br><span class="line">    <span class="keyword">int</span> onFloor = (order) * (order + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> remainBoxes = n - getTriangleTotal(order);</span><br><span class="line">    <span class="keyword">int</span> remainOnFloor = (<span class="keyword">int</span>) Math.ceil((-<span class="number">1</span> + Math.sqrt(<span class="number">1</span> + <span class="number">8</span> * remainBoxes)) / <span class="number">2.0</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> onFloor + remainOnFloor;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getTriangleTotal</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> x = n;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>) ((x) * (x + <span class="number">1</span>) * (x + <span class="number">2</span>) / <span class="number">6</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-01-22T19:33:47.000Z" title="2021-1-22 11:33:47">2021-01-22</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-01-22T19:37:07.052Z" title="2021-1-22 11:37:07">2021-01-22</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span><span class="level-item">3 minutes read (About 377 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/22/1712-Ways-to-Split-Array-Into-Three-Subarrays/">1712. Ways to Split Array Into Three Subarrays</a></h1><div class="content"><h3 id="📦-Refresh-Your-Memory"><a href="#📦-Refresh-Your-Memory" class="headerlink" title="📦 Refresh Your Memory"></a>📦 Refresh Your Memory</h3><p>Split an array to left, mid, and right with condition: the sum of the elements in left is less than or equal to the sum of the elements in mid, and the sum of the elements in mid is less than or equal to the sum of the elements in right. Return the number of good ways to split nums with MOD.</p>
<h3 id="📚-Key-Notes"><a href="#📚-Key-Notes" class="headerlink" title="📚 Key Notes"></a>📚 Key Notes</h3><ul>
<li>Naive solution would be: O(N^2), searching all two points, which separates leftSum, midSum and rightSum</li>
<li>To quickly find the range sum, we will use <strong>prefix sum</strong> here (10^4 * 10^5 not out of bound of Integer, we good)</li>
<li>By fixing one point (A), we could use binary search to find another point (B).<ul>
<li>If the point B is too left, the <strong>midSum</strong> will be too small</li>
<li>If the point B is too right, the <strong>rightSum</strong> will be too small</li>
<li>Basically, we are finding <strong>a range of the point B</strong>, which satisfies the condition (leftSum &lt;= midSum &lt;= rightSum)<ul>
<li>Similar the to question <a target="_blank" rel="noopener" href="https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/">34. Find First and Last Position of Element in Sorted Array</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://assets.leetcode.com/users/images/9ca8c136-7c3d-4e6c-ad2a-3f9090c26053_1609657205.8195658.png" alt="image"></p>
<h3 id="💻-Code"><a href="#💻-Code" class="headerlink" title="💻 Code"></a>💻 Code</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">waysToSplit</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">int</span> MOD = (<span class="keyword">int</span>) (<span class="number">1e9</span> + <span class="number">7</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> N = nums.length;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// prefix array</span></span><br><span class="line">    <span class="keyword">int</span>[] A = <span class="keyword">new</span> <span class="keyword">int</span>[N];</span><br><span class="line">    A[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N; ++i) A[i] = A[i - <span class="number">1</span>] + nums[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N - <span class="number">1</span>; ++i) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (A[i - <span class="number">1</span>] &gt; (A[N - <span class="number">1</span>] - A[i - <span class="number">1</span>]) / <span class="number">2</span>) <span class="keyword">break</span>;  <span class="comment">// early termination</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> left = helper(A, A[i - <span class="number">1</span>], i, <span class="keyword">true</span>);</span><br><span class="line">        <span class="keyword">int</span> right = helper(A, A[i - <span class="number">1</span>], i, <span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (left == -<span class="number">1</span> || right == -<span class="number">1</span>) <span class="keyword">continue</span>;  <span class="comment">// none is satisfied</span></span><br><span class="line"></span><br><span class="line">        res = (res + (right - left + <span class="number">1</span>) % MOD) % MOD;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">helper</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> leftSum, <span class="keyword">int</span> index, <span class="keyword">boolean</span> searchLeft)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> N = A.length;</span><br><span class="line">    <span class="keyword">int</span> l = index, r = N - <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> res = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> m = (r - l) / <span class="number">2</span> + l;</span><br><span class="line">        <span class="keyword">int</span> midSum = A[m] - A[index - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> rightSum = A[N - <span class="number">1</span>] - A[m];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (leftSum &lt;= midSum &amp;&amp; midSum &lt;= rightSum) &#123;</span><br><span class="line">            res = m;</span><br><span class="line">            <span class="keyword">if</span> (searchLeft) r = m - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> l = m + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (leftSum &gt; midSum) &#123;  <span class="comment">// shrink left</span></span><br><span class="line">            l = m + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;  <span class="comment">// shrink right</span></span><br><span class="line">            r = m - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="🎉-Thoughts"><a href="#🎉-Thoughts" class="headerlink" title="🎉 Thoughts"></a>🎉 Thoughts</h3><p>From naive to fairly good. </p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-01-21T23:42:17.000Z" title="2021-1-21 15:42:17">2021-01-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-01-22T00:09:57.913Z" title="2021-1-21 16:09:57">2021-01-21</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span><span class="level-item">3 minutes read (About 381 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/21/1723-Find-Minimum-Time-to-Finish-All-Jobs/">1723. Find Minimum Time to Finish All Jobs</a></h1><div class="content"><h3 id="📦-Refresh-Your-Memory"><a href="#📦-Refresh-Your-Memory" class="headerlink" title="📦 Refresh Your Memory"></a>📦 Refresh Your Memory</h3><p>You are given an integer array jobs, where jobs[i] is the amount of time it takes to complete the ith job. And given the k workers, return the minimum possible maximum working time of any assignment.</p>
<h3 id="📚-Key-Notes"><a href="#📚-Key-Notes" class="headerlink" title="📚 Key Notes"></a>📚 Key Notes</h3><ul>
<li>Classic DP problem, can be solved easily by using top-down dp (dfs + memo)</li>
<li><strong>BUT</strong> we need some optimizations to avoid TLE<ul>
<li>It is a common technique called <strong>“symmetry breaking”</strong>.</li>
<li>(1) Pick the biggest job first</li>
<li>(2) If current max is larger than our res, just exit peacefully</li>
<li>(3) If multiple workers have the same values, assigning current job to either one has the same effect.</li>
</ul>
</li>
<li>Apart from the dp solution, we could also do it with <strong>binary search</strong>.<ul>
<li>We will search minimum time result from 0 to sum(jobs) (means: assign all jobs to single one worker, brutal).</li>
<li>When doing the valid check: we need to do it <strong>recursively</strong>. Try to assign each job to each worker (something like permutation).</li>
</ul>
</li>
</ul>
<h3 id="💻-Code"><a href="#💻-Code" class="headerlink" title="💻 Code"></a>💻 Code</h3><h4 id="DP-Solution"><a href="#DP-Solution" class="headerlink" title="DP Solution"></a>DP Solution</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> res = Integer.MAX_VALUE;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumTimeRequired</span><span class="params">(<span class="keyword">int</span>[] jobs, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    Arrays.sort(jobs);</span><br><span class="line">    helper(jobs, jobs.length - <span class="number">1</span>, <span class="keyword">new</span> <span class="keyword">int</span>[k]);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">helper</span><span class="params">(<span class="keyword">int</span>[] jobs, <span class="keyword">int</span> index, <span class="keyword">int</span>[] sum)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        res = Math.min(res, Arrays.stream(sum).max().getAsInt());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (Arrays.stream(sum).max().getAsInt() &gt;= res) <span class="keyword">return</span>;  <span class="comment">// early exit</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sum.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; sum[i] == sum[i - <span class="number">1</span>]) <span class="keyword">continue</span>;  <span class="comment">// only search 1</span></span><br><span class="line">        sum[i] += jobs[index];</span><br><span class="line">        helper(jobs, index - <span class="number">1</span>, sum);</span><br><span class="line">        sum[i] -= jobs[index];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Binary-Search-Solution"><a href="#Binary-Search-Solution" class="headerlink" title="Binary Search Solution"></a>Binary Search Solution</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumTimeRequired</span><span class="params">(<span class="keyword">int</span>[] jobs, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    Arrays.sort(jobs);</span><br><span class="line">    <span class="keyword">int</span> res = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = Arrays.stream(jobs).sum();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> m = (r - l) / <span class="number">2</span> + l;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span>[] sum = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">        <span class="keyword">if</span> (isValid(jobs, sum, m, <span class="number">0</span>)) &#123;</span><br><span class="line">            res = m;</span><br><span class="line">            r = m - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            l = m + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(<span class="keyword">int</span>[] jobs, <span class="keyword">int</span>[] sum, <span class="keyword">int</span> target, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (index == jobs.length) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sum.length; ++i) &#123;</span><br><span class="line">        sum[i] += jobs[index];</span><br><span class="line">        <span class="keyword">if</span> (sum[i] &lt;= target &amp;&amp; isValid(jobs, sum, target, index + <span class="number">1</span>)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        sum[i] -= jobs[index];</span><br><span class="line">        <span class="keyword">if</span> (sum[i] == <span class="number">0</span>) <span class="keyword">break</span>;  <span class="comment">// 0 is not possible, then no need to check anymore</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="🎉-Thoughts"><a href="#🎉-Thoughts" class="headerlink" title="🎉 Thoughts"></a>🎉 Thoughts</h3><p>When doing hard dp problem, apart from dfs/memo, think about more optimizations like sorting, cut branch, etc.</p>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.jpg" alt="Frankkkkk"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Frankkkkk</p><p class="is-size-6 is-block">Software Engineer 搬砖码农</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>CA, USA 旧金山，加州</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">21</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Category</p><a href="/categories"><p class="title">1</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">20</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://frankkkkk.com" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://leetcode.com/frankkkkk/"><i class="fas fa-code"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://frankkkkk.com"><i class="fas fa-pen"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/LeetCode/"><span class="level-start"><span class="level-item">LeetCode</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Ad-Hoc/"><span class="tag">Ad Hoc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BIT/"><span class="tag">BIT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Binary-Search/"><span class="tag">Binary Search</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bit-Manipulation/"><span class="tag">Bit Manipulation</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DFS-Memo/"><span class="tag">DFS/Memo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DP/"><span class="tag">DP</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Greedy/"><span class="tag">Greedy</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hard/"><span class="tag">Hard</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Histogram/"><span class="tag">Histogram</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linked-List/"><span class="tag">Linked List</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Map/"><span class="tag">Map</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Math/"><span class="tag">Math</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Medium/"><span class="tag">Medium</span><span class="tag">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Meet-in-the-Middle/"><span class="tag">Meet in the Middle</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Prefix-Sum/"><span class="tag">Prefix Sum</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PriorityQueue/"><span class="tag">PriorityQueue</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Sort/"><span class="tag">Sort</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/String/"><span class="tag">String</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Trie/"><span class="tag">Trie</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Union-Find/"><span class="tag">Union Find</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">February 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/01/"><span class="level-start"><span class="level-item">January 2021</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li></ul></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://leetcode.com/contest/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Contest</span></span><span class="level-right"><span class="level-item tag">leetcode.com</span></span></a></li><li><a class="level is-mobile" href="https://leetcode.com/problemset/all/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Problems</span></span><span class="level-right"><span class="level-item tag">leetcode.com</span></span></a></li><li><a class="level is-mobile" href="https://youtube.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Take a Break</span></span><span class="level-right"><span class="level-item tag">youtube.com</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-15T18:37:17.000Z">2021-02-15</time></p><p class="title"><a href="/2021/02/15/1755-Closest-Subsequence-Sum/">1755. Closest Subsequence Sum</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-15T18:33:22.000Z">2021-02-15</time></p><p class="title"><a href="/2021/02/15/1754-Largest-Merge-Of-Two-Strings/">1754. Largest Merge Of Two Strings</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-15T18:28:41.000Z">2021-02-15</time></p><p class="title"><a href="/2021/02/15/1753-Maximum-Score-From-Removing-Stones/">1753. Maximum Score From Removing Stones</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-01-31T23:25:24.000Z">2021-01-31</time></p><p class="title"><a href="/2021/01/31/1745-Palindrome-Partitioning-IV/">1745. Palindrome Partitioning IV</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-01-31T23:14:58.000Z">2021-01-31</time></p><p class="title"><a href="/2021/01/31/1744-Can-You-Eat-Your-Favorite-Candy-on-Your-Favorite-Day/">1744. Can You Eat Your Favorite Candy on Your Favorite Day?</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo-new.png" alt="Frankkkkk Blog" height="28"></a><p class="is-size-7"><span>&copy; 2021 Frankkkkk</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>