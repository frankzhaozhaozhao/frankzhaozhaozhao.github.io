<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Tag: Hard - Frankkkkk Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Frankkkkk LeetCode"><meta name="msapplication-TileImage" content="/img/favicon-new.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Frankkkkk LeetCode"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Frankkkkk Blog"><meta property="og:url" content="https://frankkkkk.com/"><meta property="og:site_name" content="Frankkkkk Blog"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://frankkkkk.com/img/og_image.png"><meta property="article:author" content="Frankkkkk"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://frankkkkk.com"},"headline":"Frankkkkk Blog","image":["https://frankkkkk.com/img/og_image.png"],"author":{"@type":"Person","name":"Frankkkkk"},"description":""}</script><link rel="icon" href="/img/favicon-new.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/dracula.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-EQ4XGZTBSS" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-EQ4XGZTBSS');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo-new.png" alt="Frankkkkk Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">Hard</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-02-15T18:37:17.000Z" title="2021-2-15 10:37:17">2021-02-15</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-02-15T18:43:46.968Z" title="2021-2-15 10:43:46">2021-02-15</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span><span class="level-item">2 minutes read (About 303 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/02/15/1755-Closest-Subsequence-Sum/">1755. Closest Subsequence Sum</a></h1><div class="content"><h3 id="📦-Refresh-Your-Memory"><a href="#📦-Refresh-Your-Memory" class="headerlink" title="📦 Refresh Your Memory"></a>📦 Refresh Your Memory</h3><p>You are given an integer array nums and an integer goal. We need minimize the diff between subsequence of array with goal.</p>
<h3 id="📚-Key-Notes"><a href="#📚-Key-Notes" class="headerlink" title="📚 Key Notes"></a>📚 Key Notes</h3><ul>
<li>This is a <strong>NP-complete</strong> problem. We can only use brute force (find all subsequences and compare)</li>
<li>But the input size is too big to do it in brute force <strong>(2^N)</strong>.</li>
<li><strong>Meet in the Middle</strong><ul>
<li>“It is a search technique which is used when the input is small but not as small that brute force can be used. Like divide and conquer it splits the problem into two, solves them individually and then merge them. But we can’t apply meet in the middle like divide and conquer because we don’t have the same structure as the original problem.”</li>
<li>What we should do in this problem is: <ul>
<li>Split the array into two halves</li>
<li>Run the helper function to generate all sum possibilities.</li>
<li>Binary Search or TreeSet to find the pair which makes the diff smallest.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="💻-Code"><a href="#💻-Code" class="headerlink" title="💻 Code"></a>💻 Code</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minAbsDifference</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> goal)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">int</span> N = nums.length;</span><br><span class="line">    </span><br><span class="line">    Set&lt;Integer&gt; first = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    Set&lt;Integer&gt; second = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    generate(nums, <span class="number">0</span>, N / <span class="number">2</span> - <span class="number">1</span>, <span class="number">0</span>, first);</span><br><span class="line">    generate(nums, N / <span class="number">2</span>, N - <span class="number">1</span>, <span class="number">0</span>, second);</span><br><span class="line">    </span><br><span class="line">    TreeSet&lt;Integer&gt; set = <span class="keyword">new</span> TreeSet&lt;&gt;(second);</span><br><span class="line">    <span class="keyword">int</span> res = Math.abs(goal);  <span class="comment">// at least we could take nothing (0)</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> elem : first) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> target = goal - elem;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (set.contains(target)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        Integer val1 = set.lower(target);</span><br><span class="line">        Integer val2 = set.higher(target);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (val1 != <span class="keyword">null</span>) res = Math.min(res, Math.abs(elem + val1 - goal));</span><br><span class="line">        <span class="keyword">if</span> (val2 != <span class="keyword">null</span>) res = Math.min(res, Math.abs(elem + val2 - goal));            </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">generate</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> index, <span class="keyword">int</span> end, <span class="keyword">int</span> sum, Set&lt;Integer&gt; set)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (index &gt; end) &#123;</span><br><span class="line">        set.add(sum);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">	generate(nums, index + <span class="number">1</span>, end, sum + nums[index], set);</span><br><span class="line">    generate(nums, index + <span class="number">1</span>, end, sum, set);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="🎉-Thoughts"><a href="#🎉-Thoughts" class="headerlink" title="🎉 Thoughts"></a>🎉 Thoughts</h3></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-01-31T23:25:24.000Z" title="2021-1-31 15:25:24">2021-01-31</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-01-31T23:26:24.142Z" title="2021-1-31 15:26:24">2021-01-31</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span><span class="level-item">2 minutes read (About 257 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/31/1745-Palindrome-Partitioning-IV/">1745. Palindrome Partitioning IV</a></h1><div class="content"><h3 id="📦-Refresh-Your-Memory"><a href="#📦-Refresh-Your-Memory" class="headerlink" title="📦 Refresh Your Memory"></a>📦 Refresh Your Memory</h3><p>Given a string s, return true if it is possible to split the string s into three non-empty palindromic substrings. Otherwise, return false.​​​​​</p>
<h3 id="📚-Key-Notes"><a href="#📚-Key-Notes" class="headerlink" title="📚 Key Notes"></a>📚 Key Notes</h3><p><strong>Key Notes:</strong></p>
<ul>
<li>The length of the string is 2000, it indicates that an <strong>O(N^2)</strong> solution could pass easily</li>
<li>Firstly, use O(N^2) to build a <strong>palindrom quick look-up table</strong><ul>
<li>This quick look-up table will tell us, if substring[i, j] is a palindrome in O(1)</li>
<li>(We could use DP to do that) For the problem if substring[i, j] is palindrome:<ul>
<li>If <strong>char(i) == char(j)</strong>, we can reduce the problem to a subproblem “<em>if substring[i + 1, j - 1] is palindrome</em>“</li>
<li>If <strong>char(i) != char(j)</strong>, simply set it to false</li>
</ul>
</li>
</ul>
</li>
<li>Next, use O(N^2) to iterate every mid part substring<ul>
<li>We can now check, if <strong>left</strong>, <strong>mid</strong> and <strong>right</strong> are all palindrom, and return true.</li>
</ul>
</li>
</ul>
<p><img src="https://assets.leetcode.com/users/images/4b316562-1599-4758-9abe-e1061f84ea14_1612064347.7864518.png" alt="image"></p>
<h3 id="💻-Code"><a href="#💻-Code" class="headerlink" title="💻 Code"></a>💻 Code</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> N = s.length();</span><br><span class="line"><span class="keyword">char</span>[] A = s.toCharArray();</span><br><span class="line"></span><br><span class="line"><span class="comment">// build dp table</span></span><br><span class="line"><span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[N][N];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = N - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; N; ++j) &#123;</span><br><span class="line">        <span class="keyword">if</span> (A[i] == A[j]) dp[i][j] = ((i + <span class="number">1</span> &lt;= j - <span class="number">1</span>) ? dp[i + <span class="number">1</span>][j - <span class="number">1</span>] : <span class="keyword">true</span>);</span><br><span class="line">        <span class="keyword">else</span> dp[i][j] = <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// iterate every mid and then check: left, mid and right</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N - <span class="number">1</span>; ++i) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; N - <span class="number">1</span>; ++j) &#123;</span><br><span class="line">        <span class="keyword">if</span> (dp[<span class="number">0</span>][i - <span class="number">1</span>] &amp;&amp; dp[i][j] &amp;&amp; dp[j + <span class="number">1</span>][N - <span class="number">1</span>]) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-01-26T01:28:55.000Z" title="2021-1-25 17:28:55">2021-01-25</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-01-26T01:53:23.550Z" title="2021-1-25 17:53:23">2021-01-25</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span><span class="level-item">2 minutes read (About 312 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/25/1707-Maximum-XOR-With-an-Element-From-Array/">1707. Maximum XOR With an Element From Array</a></h1><div class="content"><h3 id="📦-Refresh-Your-Memory"><a href="#📦-Refresh-Your-Memory" class="headerlink" title="📦 Refresh Your Memory"></a>📦 Refresh Your Memory</h3><p>Given an number array, and a bunch of queries. The answer to the ith query is the maximum bitwise XOR value of xi and any element of nums that does not exceed mi. Return an integer array answer where answer.length == queries.length and answer[i] is the answer to the ith query.</p>
<h3 id="📚-Key-Notes"><a href="#📚-Key-Notes" class="headerlink" title="📚 Key Notes"></a>📚 Key Notes</h3><ul>
<li>Before doing this one, you should solve <strong>421</strong> first.</li>
<li>Then, things get easier with Trie:<ul>
<li>Sort the queries based on m</li>
<li>Keep inserting numbers below m</li>
<li>Retrieve max XOR on x from Trie</li>
</ul>
</li>
</ul>
<h3 id="💻-Code"><a href="#💻-Code" class="headerlink" title="💻 Code"></a>💻 Code</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</span><br><span class="line">    TrieNode[] children = <span class="keyword">new</span> TrieNode[<span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] maximizeXor(<span class="keyword">int</span>[] nums, <span class="keyword">int</span>[][] queries) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span>[][] Q = <span class="keyword">new</span> <span class="keyword">int</span>[queries.length][<span class="number">3</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; queries.length; ++i) &#123;</span><br><span class="line">        Q[i][<span class="number">0</span>] = queries[i][<span class="number">0</span>];</span><br><span class="line">        Q[i][<span class="number">1</span>] = queries[i][<span class="number">1</span>];</span><br><span class="line">        Q[i][<span class="number">2</span>] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    Arrays.sort(Q, (a, b) -&gt; (a[<span class="number">1</span>] - b[<span class="number">1</span>]));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    TrieNode root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[queries.length];</span><br><span class="line">    Arrays.fill(res, -<span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; queries.length; ++i) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> x = Q[i][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> m = Q[i][<span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (; j &lt; nums.length &amp;&amp; nums[j] &lt;= m; ++j) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// insert into trie</span></span><br><span class="line">            insertIntoTrie(root, nums[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// get max xor on x</span></span><br><span class="line">        res[Q[i][<span class="number">2</span>]] = getMaxXOR(root, x);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getMaxXOR</span><span class="params">(TrieNode root, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    TrieNode node = root;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">31</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        </span><br><span class="line">        res &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> oppositeBit = ((x &gt;&gt;&gt; i) &amp; <span class="number">1</span>) ^ <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (node.children[<span class="number">0</span>] == <span class="keyword">null</span> &amp;&amp; node.children[<span class="number">1</span>] == <span class="keyword">null</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (node.children[oppositeBit] == <span class="keyword">null</span>) node = node.children[oppositeBit ^ <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            res += <span class="number">1</span>;</span><br><span class="line">            node = node.children[oppositeBit];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">insertIntoTrie</span><span class="params">(TrieNode root, <span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    TrieNode node = root;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">31</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        <span class="keyword">int</span> bit = (num &gt;&gt;&gt; i) &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (node.children[bit] == <span class="keyword">null</span>) node.children[bit] = <span class="keyword">new</span> TrieNode();</span><br><span class="line">        node = node.children[bit];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="🎉-Thoughts"><a href="#🎉-Thoughts" class="headerlink" title="🎉 Thoughts"></a>🎉 Thoughts</h3><p>With the fixed queries, we could sort it and build our Trie on the fly. It is quite a common technique to solve query-like question.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-01-24T19:39:09.000Z" title="2021-1-24 11:39:09">2021-01-24</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-01-24T19:50:37.344Z" title="2021-1-24 11:50:37">2021-01-24</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span><span class="level-item">2 minutes read (About 225 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/24/1739-Building-Boxes/">1739. Building Boxes</a></h1><div class="content"><h3 id="📦-Refresh-Your-Memory"><a href="#📦-Refresh-Your-Memory" class="headerlink" title="📦 Refresh Your Memory"></a>📦 Refresh Your Memory</h3><p>Given n boxes, and You can place the boxes anywhere on the floor. If box x is placed on top of the box y, then each side of the four vertical sides of the box y must either be adjacent to another box or to a wall. return the minimum possible number of boxes touching the floor.</p>
<h3 id="📚-Key-Notes"><a href="#📚-Key-Notes" class="headerlink" title="📚 Key Notes"></a>📚 Key Notes</h3><ul>
<li>It is a <strong>triangle number</strong> problem.</li>
<li>Before that, you need to know some equaltions: <ul>
<li>The n-th triangle number is: <strong>(n) * (n + 1) / 2</strong></li>
<li>The sum of first n triangle numbers is: <strong>(n) * (n + 1) * (n + 2) / 6</strong></li>
</ul>
</li>
<li>First: find a complete triangle cone (complete means 1 3 6 10…)<ul>
<li>You can solve this cubic function by some math, but I am using <strong>binary search</strong> for simplicity.</li>
</ul>
</li>
<li>Remain boxes (R) need to be place as R + (R - 1) + (R - 2) + … just find this number R</li>
</ul>
<h3 id="💻-Code"><a href="#💻-Code" class="headerlink" title="💻 Code"></a>💻 Code</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumBoxes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = <span class="number">2000</span>;  <span class="comment">// magic number since n is &lt;= 10^9</span></span><br><span class="line">    <span class="keyword">int</span> order = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// find a complete triangle cone (1 3 6 10 ...)</span></span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">        <span class="keyword">int</span> m = (r - l) / <span class="number">2</span> + l;</span><br><span class="line">        <span class="keyword">int</span> value = getTriangleTotal(m);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (value &gt; n) r = m - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            order = m;</span><br><span class="line">            l = m + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// order is the complete triangle-th</span></span><br><span class="line">    <span class="keyword">int</span> onFloor = (order) * (order + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> remainBoxes = n - getTriangleTotal(order);</span><br><span class="line">    <span class="keyword">int</span> remainOnFloor = (<span class="keyword">int</span>) Math.ceil((-<span class="number">1</span> + Math.sqrt(<span class="number">1</span> + <span class="number">8</span> * remainBoxes)) / <span class="number">2.0</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> onFloor + remainOnFloor;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getTriangleTotal</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> x = n;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>) ((x) * (x + <span class="number">1</span>) * (x + <span class="number">2</span>) / <span class="number">6</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-01-22T19:24:36.000Z" title="2021-1-22 11:24:36">2021-01-22</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-01-22T19:33:32.075Z" title="2021-1-22 11:33:32">2021-01-22</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span><span class="level-item">2 minutes read (About 296 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/22/1713-Minimum-Operations-to-Make-a-Subsequence/">1713. Minimum Operations to Make a Subsequence</a></h1><div class="content"><h3 id="📦-Refresh-Your-Memory"><a href="#📦-Refresh-Your-Memory" class="headerlink" title="📦 Refresh Your Memory"></a>📦 Refresh Your Memory</h3><p>You are given an array target that consists of distinct integers and another integer array arr that can have duplicates. Keep inserting any element at any position into arr. Return the minimum number of operations needed to make target a subsequence of arr.</p>
<h3 id="📚-Key-Notes"><a href="#📚-Key-Notes" class="headerlink" title="📚 Key Notes"></a>📚 Key Notes</h3><ul>
<li>The problem seems like a LIS (longest increasing subsequence) problem, and it is.</li>
<li>But based on the data constraints: O(N^2) will not be acceptable</li>
<li>There are two ways to solve this problem:<ul>
<li><strong>O(NlogN) LIS Solution</strong>, you could find it on LeetCode</li>
<li><strong>BIT (Binary Indexed Tree/Fenwich Tree)</strong><ul>
<li>By using BIT, at each element of arr, we are looking for <strong>the longest subsequence value from its previous index</strong>.</li>
<li>Normally, there are two methods for BIT: update and getPrefix. Just need to slightly modify both of them: not get sum but look for max.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="💻-Code"><a href="#💻-Code" class="headerlink" title="💻 Code"></a>💻 Code</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minOperations</span><span class="params">(<span class="keyword">int</span>[] target, <span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">int</span> M = target.length, N = arr.length;</span><br><span class="line">    <span class="keyword">int</span>[] BIT = <span class="keyword">new</span> <span class="keyword">int</span>[M + <span class="number">1</span>];  <span class="comment">// 1: index</span></span><br><span class="line">    </span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; ++i) &#123;</span><br><span class="line">        map.put(target[i], i);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> a : arr) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(a)) <span class="keyword">continue</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> index = map.get(a);</span><br><span class="line">        <span class="keyword">int</span> cur = getPreMax(BIT, index);</span><br><span class="line">        cur++;</span><br><span class="line">        res = Math.max(res, cur);</span><br><span class="line">        update(BIT, index + <span class="number">1</span>, cur);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> M - res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span>[] BIT, <span class="keyword">int</span> index, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (index &lt; BIT.length) &#123;</span><br><span class="line">        BIT[index] = Math.max(val, BIT[index]);</span><br><span class="line">        index += index &amp; (-index);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getPreMax</span><span class="params">(<span class="keyword">int</span>[] BIT, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (index &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        res = Math.max(res, BIT[index]);</span><br><span class="line">        index -= index &amp; (-index);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="🎉-Thoughts"><a href="#🎉-Thoughts" class="headerlink" title="🎉 Thoughts"></a>🎉 Thoughts</h3><p>BIT usually works for finding range sun with frequent updates. But here, we are turning it to find max with frequent updates. It is just a <strong>derivative</strong> of BIT.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-01-21T23:42:17.000Z" title="2021-1-21 15:42:17">2021-01-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-01-22T00:09:57.913Z" title="2021-1-21 16:09:57">2021-01-21</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span><span class="level-item">3 minutes read (About 381 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/21/1723-Find-Minimum-Time-to-Finish-All-Jobs/">1723. Find Minimum Time to Finish All Jobs</a></h1><div class="content"><h3 id="📦-Refresh-Your-Memory"><a href="#📦-Refresh-Your-Memory" class="headerlink" title="📦 Refresh Your Memory"></a>📦 Refresh Your Memory</h3><p>You are given an integer array jobs, where jobs[i] is the amount of time it takes to complete the ith job. And given the k workers, return the minimum possible maximum working time of any assignment.</p>
<h3 id="📚-Key-Notes"><a href="#📚-Key-Notes" class="headerlink" title="📚 Key Notes"></a>📚 Key Notes</h3><ul>
<li>Classic DP problem, can be solved easily by using top-down dp (dfs + memo)</li>
<li><strong>BUT</strong> we need some optimizations to avoid TLE<ul>
<li>It is a common technique called <strong>“symmetry breaking”</strong>.</li>
<li>(1) Pick the biggest job first</li>
<li>(2) If current max is larger than our res, just exit peacefully</li>
<li>(3) If multiple workers have the same values, assigning current job to either one has the same effect.</li>
</ul>
</li>
<li>Apart from the dp solution, we could also do it with <strong>binary search</strong>.<ul>
<li>We will search minimum time result from 0 to sum(jobs) (means: assign all jobs to single one worker, brutal).</li>
<li>When doing the valid check: we need to do it <strong>recursively</strong>. Try to assign each job to each worker (something like permutation).</li>
</ul>
</li>
</ul>
<h3 id="💻-Code"><a href="#💻-Code" class="headerlink" title="💻 Code"></a>💻 Code</h3><h4 id="DP-Solution"><a href="#DP-Solution" class="headerlink" title="DP Solution"></a>DP Solution</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> res = Integer.MAX_VALUE;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumTimeRequired</span><span class="params">(<span class="keyword">int</span>[] jobs, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    Arrays.sort(jobs);</span><br><span class="line">    helper(jobs, jobs.length - <span class="number">1</span>, <span class="keyword">new</span> <span class="keyword">int</span>[k]);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">helper</span><span class="params">(<span class="keyword">int</span>[] jobs, <span class="keyword">int</span> index, <span class="keyword">int</span>[] sum)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        res = Math.min(res, Arrays.stream(sum).max().getAsInt());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (Arrays.stream(sum).max().getAsInt() &gt;= res) <span class="keyword">return</span>;  <span class="comment">// early exit</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sum.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; sum[i] == sum[i - <span class="number">1</span>]) <span class="keyword">continue</span>;  <span class="comment">// only search 1</span></span><br><span class="line">        sum[i] += jobs[index];</span><br><span class="line">        helper(jobs, index - <span class="number">1</span>, sum);</span><br><span class="line">        sum[i] -= jobs[index];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Binary-Search-Solution"><a href="#Binary-Search-Solution" class="headerlink" title="Binary Search Solution"></a>Binary Search Solution</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumTimeRequired</span><span class="params">(<span class="keyword">int</span>[] jobs, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    Arrays.sort(jobs);</span><br><span class="line">    <span class="keyword">int</span> res = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = Arrays.stream(jobs).sum();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> m = (r - l) / <span class="number">2</span> + l;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span>[] sum = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">        <span class="keyword">if</span> (isValid(jobs, sum, m, <span class="number">0</span>)) &#123;</span><br><span class="line">            res = m;</span><br><span class="line">            r = m - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            l = m + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(<span class="keyword">int</span>[] jobs, <span class="keyword">int</span>[] sum, <span class="keyword">int</span> target, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (index == jobs.length) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sum.length; ++i) &#123;</span><br><span class="line">        sum[i] += jobs[index];</span><br><span class="line">        <span class="keyword">if</span> (sum[i] &lt;= target &amp;&amp; isValid(jobs, sum, target, index + <span class="number">1</span>)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        sum[i] -= jobs[index];</span><br><span class="line">        <span class="keyword">if</span> (sum[i] == <span class="number">0</span>) <span class="keyword">break</span>;  <span class="comment">// 0 is not possible, then no need to check anymore</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="🎉-Thoughts"><a href="#🎉-Thoughts" class="headerlink" title="🎉 Thoughts"></a>🎉 Thoughts</h3><p>When doing hard dp problem, apart from dfs/memo, think about more optimizations like sorting, cut branch, etc.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-01-19T03:01:54.000Z" title="2021-1-18 19:01:54">2021-01-18</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-01-20T02:18:17.056Z" title="2021-1-19 18:18:17">2021-01-19</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span><span class="level-item">3 minutes read (About 480 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/01/18/1728-Cat-and-Mouse-II/">1728. Cat and Mouse II</a></h1><div class="content"><h3 id="📦-Refresh-Your-Memory"><a href="#📦-Refresh-Your-Memory" class="headerlink" title="📦 Refresh Your Memory"></a>📦 Refresh Your Memory</h3><p>A game is played by a cat and a mouse named Cat and Mouse with some rules and constraints. Given a rows x cols matrix grid and two integers catJump and mouseJump, return true if Mouse can win the game if both Cat and Mouse play optimally, otherwise return false.</p>
<h3 id="📚-Key-Notes"><a href="#📚-Key-Notes" class="headerlink" title="📚 Key Notes"></a>📚 Key Notes</h3><ul>
<li>DFS/Memo part is simple. Just follow the standard of the <strong>top down dp</strong>.</li>
<li>We should distinguish the turn for mouse and cat.<ul>
<li><strong>For mouse</strong>: we are trying to find a way to win -&gt; if there is a true, we just return true</li>
<li><strong>For cat</strong>: we are trying to find a way to not let mouse win -&gt; if there is a false, we just return false.</li>
</ul>
</li>
<li>And, we have 5 variables in dfs, thus, create a 5D DP to memo it.</li>
<li>The key to pass this question is: there is a case, cat and mouse <strong>they both can not proceed (live lock)</strong>. Based on some tests, this magic number is <strong>68</strong>. That means, if we run over 68 times, cat wins!</li>
</ul>
<h3 id="💻-Code"><a href="#💻-Code" class="headerlink" title="💻 Code"></a>💻 Code</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">char</span>[][] A;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> M, N;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[] dirs = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> maxCat, maxMouse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> MAGIC_NUMBER = <span class="number">68</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canMouseWin</span><span class="params">(String[] grid, <span class="keyword">int</span> catJump, <span class="keyword">int</span> mouseJump)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    M = grid.length; </span><br><span class="line">    N = grid[<span class="number">0</span>].length();</span><br><span class="line">    A = <span class="keyword">new</span> <span class="keyword">char</span>[M][N];</span><br><span class="line">    maxCat = catJump;</span><br><span class="line">    maxMouse = mouseJump;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; ++i) &#123;</span><br><span class="line">        A[i] = grid[i].toCharArray();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span>[] catPos = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">int</span>[] mousePos = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (A[i][j] == <span class="string">&#x27;C&#x27;</span>) catPos = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;i, j&#125;;</span><br><span class="line">            <span class="keyword">if</span> (A[i][j] == <span class="string">&#x27;M&#x27;</span>) mousePos = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;i, j&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> helper(catPos[<span class="number">0</span>], catPos[<span class="number">1</span>], mousePos[<span class="number">0</span>], </span><br><span class="line">    	mousePos[<span class="number">1</span>], <span class="number">0</span>, <span class="keyword">new</span> Boolean[<span class="number">8</span>][<span class="number">8</span>][<span class="number">8</span>][<span class="number">8</span>][MAGIC_NUMBER]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// helper means: does mouse win?</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">helper</span><span class="params">(<span class="keyword">int</span> cx, <span class="keyword">int</span> cy, <span class="keyword">int</span> mx, <span class="keyword">int</span> my, </span></span></span><br><span class="line"><span class="function"><span class="params">	<span class="keyword">int</span> turn, Boolean[][][][][] dp)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// the game will ends in ~ 68 rounds, let&#x27;s safe it to 200 rounds</span></span><br><span class="line">    <span class="keyword">if</span> (turn &gt;= MAGIC_NUMBER) <span class="keyword">return</span> <span class="keyword">false</span>; </span><br><span class="line">    <span class="keyword">if</span> (mx == cx &amp;&amp; my == cy) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// memo cache</span></span><br><span class="line">    <span class="keyword">if</span> (dp[cx][cy][mx][my][turn] != <span class="keyword">null</span>) <span class="keyword">return</span> dp[cx][cy][mx][my][turn];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">boolean</span> res = !(turn % <span class="number">2</span> == <span class="number">0</span>);  <span class="comment">// trick point</span></span><br><span class="line">    <span class="keyword">if</span> (turn % <span class="number">2</span> == <span class="number">0</span>) &#123;  <span class="comment">// mouse turn</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> d = <span class="number">0</span>; d &lt; <span class="number">4</span>; ++d) &#123;</span><br><span class="line">            <span class="keyword">if</span> (res) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> jump = <span class="number">0</span>; jump &lt;= maxMouse; ++jump) &#123;</span><br><span class="line">                <span class="keyword">int</span> nx = mx + dirs[d] * jump;</span><br><span class="line">                <span class="keyword">int</span> ny = my + dirs[d + <span class="number">1</span>] * jump;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> (nx &lt; <span class="number">0</span> || nx &gt;= M || ny &lt; <span class="number">0</span> || ny &gt;= N || </span><br><span class="line">                	A[nx][ny] == <span class="string">&#x27;#&#x27;</span>) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span> (A[nx][ny] == <span class="string">&#x27;F&#x27;</span>) &#123;</span><br><span class="line">                    res = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (helper(cx, cy, nx, ny, turn + <span class="number">1</span>, dp)) &#123;</span><br><span class="line">                    res = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  <span class="comment">// cat turn</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> d = <span class="number">0</span>; d &lt; <span class="number">4</span>; ++d) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!res) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> jump = <span class="number">0</span>; jump &lt;= maxCat; ++jump) &#123;</span><br><span class="line">                <span class="keyword">int</span> nx = cx + dirs[d] * jump;</span><br><span class="line">                <span class="keyword">int</span> ny = cy + dirs[d + <span class="number">1</span>] * jump;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> (nx &lt; <span class="number">0</span> || nx &gt;= M || ny &lt; <span class="number">0</span> || ny &gt;= N || </span><br><span class="line">                	A[nx][ny] == <span class="string">&#x27;#&#x27;</span>) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span> (A[nx][ny] == <span class="string">&#x27;F&#x27;</span>) &#123;</span><br><span class="line">                    res = <span class="keyword">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (!helper(nx, ny, mx, my, turn + <span class="number">1</span>, dp)) &#123;</span><br><span class="line">                    res = <span class="keyword">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> dp[cx][cy][mx][my][turn] = res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.jpg" alt="Frankkkkk"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Frankkkkk</p><p class="is-size-6 is-block">Software Engineer 搬砖码农</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>CA, USA 旧金山，加州</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">21</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Category</p><a href="/categories"><p class="title">1</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">20</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://frankkkkk.com" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://leetcode.com/frankkkkk/"><i class="fas fa-code"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://frankkkkk.com"><i class="fas fa-pen"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/LeetCode/"><span class="level-start"><span class="level-item">LeetCode</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Ad-Hoc/"><span class="tag">Ad Hoc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BIT/"><span class="tag">BIT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Binary-Search/"><span class="tag">Binary Search</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bit-Manipulation/"><span class="tag">Bit Manipulation</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DFS-Memo/"><span class="tag">DFS/Memo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DP/"><span class="tag">DP</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Greedy/"><span class="tag">Greedy</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hard/"><span class="tag">Hard</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Histogram/"><span class="tag">Histogram</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linked-List/"><span class="tag">Linked List</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Map/"><span class="tag">Map</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Math/"><span class="tag">Math</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Medium/"><span class="tag">Medium</span><span class="tag">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Meet-in-the-Middle/"><span class="tag">Meet in the Middle</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Prefix-Sum/"><span class="tag">Prefix Sum</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PriorityQueue/"><span class="tag">PriorityQueue</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Sort/"><span class="tag">Sort</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/String/"><span class="tag">String</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Trie/"><span class="tag">Trie</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Union-Find/"><span class="tag">Union Find</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">February 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/01/"><span class="level-start"><span class="level-item">January 2021</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li></ul></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://leetcode.com/contest/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Contest</span></span><span class="level-right"><span class="level-item tag">leetcode.com</span></span></a></li><li><a class="level is-mobile" href="https://leetcode.com/problemset/all/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Problems</span></span><span class="level-right"><span class="level-item tag">leetcode.com</span></span></a></li><li><a class="level is-mobile" href="https://youtube.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Take a Break</span></span><span class="level-right"><span class="level-item tag">youtube.com</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-15T18:37:17.000Z">2021-02-15</time></p><p class="title"><a href="/2021/02/15/1755-Closest-Subsequence-Sum/">1755. Closest Subsequence Sum</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-15T18:33:22.000Z">2021-02-15</time></p><p class="title"><a href="/2021/02/15/1754-Largest-Merge-Of-Two-Strings/">1754. Largest Merge Of Two Strings</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-15T18:28:41.000Z">2021-02-15</time></p><p class="title"><a href="/2021/02/15/1753-Maximum-Score-From-Removing-Stones/">1753. Maximum Score From Removing Stones</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-01-31T23:25:24.000Z">2021-01-31</time></p><p class="title"><a href="/2021/01/31/1745-Palindrome-Partitioning-IV/">1745. Palindrome Partitioning IV</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-01-31T23:14:58.000Z">2021-01-31</time></p><p class="title"><a href="/2021/01/31/1744-Can-You-Eat-Your-Favorite-Candy-on-Your-Favorite-Day/">1744. Can You Eat Your Favorite Candy on Your Favorite Day?</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo-new.png" alt="Frankkkkk Blog" height="28"></a><p class="is-size-7"><span>&copy; 2021 Frankkkkk</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>